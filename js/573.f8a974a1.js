"use strict";(self["webpackChunkproject_sun"]=self["webpackChunkproject_sun"]||[]).push([[573],{6573:function(t,e,i){i.r(e),i.d(e,{default:function(){return O}});var s=i(6252),a=i(3577),l=i(9963);const n=(0,s._)("div",{class:"container text-white"},[(0,s._)("h4",null,"NEWS"),(0,s._)("h1",null,"太陽人快報")],-1),r=[n],c={class:"navigation-item"},o=(0,s._)("a",{href:"/index.aspx"},"首頁",-1),h=(0,s._)("i",{class:"bi bi-chevron-double-right"},null,-1),d=(0,s.Uk)("太陽人快報"),u=(0,s._)("i",{class:"bi bi-chevron-double-right"},null,-1),g={key:0,style:{height:"50vh"},class:"d-flex align-items-center justify-content-center"},m=(0,s._)("h2",null,"此篇文章不存在!",-1),f=[m],w={key:1,class:"newsPageDetail"},p=(0,s._)("i",{class:"bi bi-list-ul d-flex justify-content-center fs-3"},null,-1),_=[p],b={class:""},v={class:"news-detail-content"},D={class:"d-flex"},y={class:"d-flex flex-wrap justify-content-between"},k={class:"d-flex flex-wrap"},x=(0,s._)("i",{class:"bi bi-calendar3 text-primary"},null,-1),E=(0,s._)("i",{class:"bi bi-list-ul text-primary"},null,-1),C=(0,s.uE)('<div class="d-flex flex-wrap align-items-center"> 分享至 <a href="" target="_blank"><i class="bi bi-facebook m-2 fs-5" style="color:#4267b2;"></i></a><a href="" target="_blank"><i class="bi bi-line m-2 fs-5" style="color:#01B902;"></i></a><a href="" target="_blank"><i class="bi bi-twitter m-2 fs-5" style="color:#3FAAF3;"></i></a></div>',1),W=["innerHTML"],F={class:"newsSlider"},P=(0,s._)("h4",{class:"slider-title"},"最近發布 ",-1),T={class:"d-flex position-relative"},j=(0,s._)("i",{class:"bi bi-chevron-left fs-3"},null,-1),H=[j],S=(0,s._)("i",{class:"bi bi-chevron-right fs-3"},null,-1),A=[S],L=["src","alt"],z={class:"slider-hover"},B=(0,s._)("div",{class:"d-flex justify-content-center"},[(0,s._)("i",{class:"bi bi-link-45deg link-icon"})],-1),M={class:"text-white fs-4 d-flex justify-content-center"};function I(t,e,i,n,m,p){const j=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("section",{class:"subpage-banner-image",style:(0,a.j5)({background:"url("+m.imgSrc+")"})},r,4),(0,s._)("section",null,[(0,s._)("nav",c,[o,h,(0,s.Wm)(j,{to:"/newsVue3"},{default:(0,s.w5)((()=>[d])),_:1}),u,"green"===m.currentFilter?((0,s.wg)(),(0,s.iD)("a",{key:0,class:(0,a.C_)({active:"green"===m.currentFilter})},"綠能轉型行不行",2)):"news"===m.currentFilter?((0,s.wg)(),(0,s.iD)("a",{key:1,class:(0,a.C_)({active:"news"===m.currentFilter})},"太陽人最新消息",2)):((0,s.wg)(),(0,s.iD)("a",{key:2,class:(0,a.C_)({active:""===m.currentFilter})},(0,a.zw)(m.newsData[0].title),3))])]),!0===m.axiosStatus?((0,s.wg)(),(0,s.iD)("section",g,f)):((0,s.wg)(),(0,s.iD)("section",w,[(0,s.Wm)(j,{to:"/newsVue3"},{default:(0,s.w5)((()=>[(0,s._)("button",{onClick:e[0]||(e[0]=(...e)=>t.backToTop&&t.backToTop(...e)),class:(0,a.C_)(["tabBtn d-none",{btnShow:!0===m.topBtn}])},_,2)])),_:1}),(0,s._)("div",b,[(0,s._)("div",v,[(0,s._)("h2",D,(0,a.zw)(m.newsData[0].title),1),(0,s._)("div",y,[(0,s._)("div",k,[(0,s._)("div",null,[x,(0,s.Uk)((0,a.zw)(m.newsData[0].create_date),1)]),(0,s._)("div",null,[E,(0,s.Uk)((0,a.zw)(m.newsData[0].category),1)])]),C]),(0,s._)("div",{class:"d-flex flex-wrap justify-content-start content",innerHTML:m.newsData[0].content},null,8,W)])])])),(0,s._)("section",F,[P,(0,s._)("div",T,[(0,s._)("button",{type:"button",class:"start-0 slider-button",onClick:e[1]||(e[1]=(0,l.iM)((t=>p.slideCtrl(-1)),["prevent"]))},H),(0,s._)("button",{type:"button",class:"end-0 slider-button",onClick:e[2]||(e[2]=(0,l.iM)((t=>p.slideCtrl(1)),["prevent"]))},A),(0,s.Wm)(l.W3,{name:"flip-list",tag:"ul",class:"slider-box"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(m.slideData,(t=>((0,s.wg)(),(0,s.iD)("li",{class:(0,a.C_)(["slider-card",{sliderCardWidth:m.screenWidth<768}]),key:t.id},[(0,s._)("img",{class:"slider-img",src:m.imgData[t.ref].img,alt:m.imgData.title},null,8,L),(0,s._)("div",z,[(0,s.Wm)(j,{target:"_blank",class:"d-flex flex-column justify-content-center",to:{name:"newsDetailPageVue3",params:{id:m.imgData[t.ref].id}},style:{width:"100%"}},{default:(0,s.w5)((()=>[B,(0,s._)("div",M,(0,a.zw)(m.imgData[t.ref].title),1)])),_:2},1032,["to"])])],2)))),128))])),_:1})])])],64)}i(6699);var U={name:"newsDetailPage",components:{},props:{id:{type:String}},data(){return{search:"",typeFilter:[],imgSrc:i(3673),currentFilter:"",countOfPage:6,currentPage:1,isActive:!0,error:!1,newsData:[],axiosStatus:!1,imgData:[],slideData:[],clickWait:!1,timer:{},topBtn:!1,screenWidth:0}},methods:{filterCategory:function(t){this.setPage(1),this.currentFilter=t,"all"===t?(this.typeFilter=this.product,this.currentFilter=""):this.typeFilter=this.product.filter((e=>e.type.toLowerCase().includes(t))),console.log(this.type)},setPage:function(t){(t>=0||t<this.totalPage)&&(this.currentPage=t)},getData(){const t="https://www.hellosolarman.com",e=this.id,i=`https://solardata.hellosolarman.com/api/data/new?id=${e}`;this.$http.get(i).then((e=>{this.newsData=e.data.filter((e=>(null===e.img.match("http")&&(e.img=t+e.img),this.newsData))),this.newsData.forEach((t=>{"A"===t.category?t.category="太陽人最新消息":t.category="綠能轉型行不行"}))})).then((()=>{this.changeDate()})).catch((t=>{console.log(t,"getError"),this.axiosStatus=!0}))},getImg(){const t="https://www.hellosolarman.com",e="https://solardata.hellosolarman.com/api/data/news";console.log("step1"),this.$http.get(e).then((e=>{console.log("step2"),this.imgData=e.data.filter(((e,i)=>(null===e.img.match("http")&&(e.img=t+e.img),i<5)))})).then((()=>{this.imgArry()})).catch((t=>{console.log(t,"getError")})),console.log("step3")},slideCtrl(t=1){if(!this.clickWait){if(this.stopTime(),this.clickWait=!0,t>0){const t=this.slideData.shift();return this.slideData.push(t),console.log(this.slideData,"l"),void this.setTime()}if(t<0){const t=this.slideData.pop();this.slideData.unshift(t),this.setTime(),console.log(this.slideData,"r")}}},imgArry(){for(let t=0;t<2*this.imgData.length;t++){const e={};e.id=t,e.ref=t%this.imgData.length,this.slideData.push(e)}},setTime(){this.timer=setTimeout((()=>{this.clickWait=!1}),500)},stopTime(){clearInterval(this.timer)},myEventHandler(t){document.body.srcollTop>100||document.documentElement.scrollTop>100?this.topBtn=!0:this.topBtn=!1},changeDate(){this.newsData.forEach((t=>{t.create_date=new Date(t.create_date).toLocaleDateString()}))},widthEventHandler(){this.screenWidth=window.innerWidth,console.log(this.screenWidth)}},computed:{},mounted(){this.imgArry(),window.addEventListener("resize",this.widthEventHandler)},created(){window.addEventListener("scroll",this.myEventHandler),this.getData(),this.getImg()},unmounted(){window.removeEventListener("scroll",this.myEventHandler),window.removeEventListener("resize",this.widthEventHandler)},watch:{search:function(){this.currentPage=1},currentPage:function(){this.typeFilter.length%this.countOfPage===2&&this.currentPage===this.totalPage?(this.error=!0,this.isActive=!1):(this.error=!1,this.isActive=!0)}}},V=i(3744);const $=(0,V.Z)(U,[["render",I]]);var O=$},3673:function(t,e,i){t.exports=i.p+"img/page_here_section_2.c23d20ff.jpg"}}]);
//# sourceMappingURL=573.f8a974a1.js.map