"use strict";(self["webpackChunkproject_sun"]=self["webpackChunkproject_sun"]||[]).push([[947],{5947:function(e,t,a){a.r(t),a.d(t,{default:function(){return W}});var i=a(6252),r=a(3577),s=a(9963);const l=(0,i._)("div",{class:"container text-white"},[(0,i._)("h4",null,"NEWS"),(0,i._)("h1",null,"太陽人快報")],-1),n=[l],c={class:"navigation-item"},o=(0,i._)("a",{href:"/index.aspx"},"首頁",-1),h=(0,i._)("i",{class:"bi bi-chevron-double-right"},null,-1),u=(0,i._)("a",{href:"/news.aspx"},"太陽人快報",-1),g=(0,i._)("i",{class:"bi bi-chevron-double-right"},null,-1),d={class:"section-operation"},p={class:"operation-block"},_={class:"welfare-type"},f={class:"search-block"},b={class:"input-group mb-3"},v=(0,i._)("div",{class:"input-group-append"},[(0,i._)("button",{id:"btn_search",class:"btn btn-outline-secondary",type:"button",disabled:""},[(0,i._)("i",{class:"bi bi-search"})])],-1),w={class:"news-section-papers"},m={class:"mb-3 mb-lg-0"},y={class:"position-relative"},P=["src","alt"],C=(0,i._)("div",{class:"item-hover"},[(0,i._)("a",{target:"_blank",class:"d-flex flex-column justify-content-center",style:{width:"100%"}},[(0,i._)("div",{class:"d-flex justify-content-center"},[(0,i._)("i",{class:"bi bi-link-45deg link-icon"})])])],-1),k={class:"card-body px-0 p-md-2"},D={class:"d-flex justify-content-between"},x=(0,i._)("i",{class:"bi bi-calendar3"},null,-1),F=(0,i._)("i",{class:"bi bi-list-ul"},null,-1),A=["innerHTML"],M={class:"pagination-block d-flex justify-content-center mt-5 mb-5"},j={"aria-label":"Page navigation example"},S={class:"pagination"},H=(0,i._)("a",{class:"page-link",href:"#"},[(0,i._)("i",{class:"bi bi-chevron-bar-left"})],-1),O=[H],L=["onClick"],E={class:"page-link",href:"#"},I=(0,i._)("a",{class:"page-link",href:"#"},[(0,i._)("i",{class:"bi bi-chevron-bar-right"})],-1),z=[I];function U(e,t,a,l,H,I){const U=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("section",{class:"subpage-banner-image",style:(0,r.j5)({background:"url("+H.imgSrc+")"})},n,4),(0,i._)("section",null,[(0,i._)("nav",c,[o,h,u,g,"a"===H.currentFilter?((0,i.wg)(),(0,i.iD)("a",{key:0,class:(0,r.C_)({active:"a"===H.currentFilter})},"綠能轉型行不行",2)):"b"===H.currentFilter?((0,i.wg)(),(0,i.iD)("a",{key:1,class:(0,r.C_)({active:"b"===H.currentFilter})},"太陽人最新消息",2)):((0,i.wg)(),(0,i.iD)("a",{key:2,class:(0,r.C_)({active:""===H.currentFilter})},"全部",2))])]),(0,i._)("section",d,[(0,i._)("div",p,[(0,i._)("ul",_,[(0,i._)("li",{class:(0,r.C_)({active:""===H.currentFilter}),onClick:t[0]||(t[0]=(0,s.iM)((e=>I.filterCategory("all")),["prevent"]))}," 全部 ",2),(0,i._)("li",{class:(0,r.C_)({active:"a"===H.currentFilter}),onClick:t[1]||(t[1]=(0,s.iM)((e=>I.filterCategory("a")),["prevent"]))}," 太陽人最新消息 ",2),(0,i._)("li",{class:(0,r.C_)({active:"b"===H.currentFilter}),onClick:t[2]||(t[2]=(0,s.iM)((e=>I.filterCategory("b")),["prevent"]))}," 綠能轉型行不行 ",2)]),(0,i._)("div",f,[(0,i._)("div",b,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.search=e),type:"text",class:"form-control",placeholder:"請輸入關鍵字"},null,512),[[s.nr,l.search]]),v])])])]),(0,i._)("section",w,[(0,i._)("div",{class:(0,r.C_)(["d-flex flex-wrap px-0 item-width",{"justify-content-start":H.error}])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(I.filterProduct.slice(I.pageStart,I.pageStart+H.countOfPage),(e=>((0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)(["d-flex px-0 mb-3 news-card position-relative",{"me-md-5":H.error}]),key:e.id},[(0,i.Wm)(U,{to:{name:"newsDetailPageVue3",params:{id:e.id}},style:{width:"100%"}},{default:(0,i.w5)((()=>[(0,i._)("div",m,[(0,i._)("div",y,[(0,i._)("img",{src:e.img,class:"card-img-style",style:{height:"180px"},alt:e.title},null,8,P),C]),(0,i._)("div",k,[(0,i._)("div",D,[(0,i._)("div",null,[x,(0,i.Uk)(" "+(0,r.zw)(e.create_date),1)]),(0,i._)("div",null,[F,(0,i.Uk)(" "+(0,r.zw)(e.newsCategory),1)])]),(0,i._)("h5",{innerHTML:e.title,class:"card-title py-3 m-0"},null,8,A)])])])),_:2},1032,["to"])],2)))),128))],2),(0,i._)("div",M,[(0,i._)("nav",j,[(0,i._)("ul",S,[(0,i._)("li",{class:(0,r.C_)(["page-item",{disabled:1===H.currentPage}]),onClick:t[4]||(t[4]=(0,s.iM)((e=>I.setPage(H.currentPage-1)),["prevent"]))},O,2),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(H.pageArr.slice(H.currentPage-1,H.currentPage+5),(e=>((0,i.wg)(),(0,i.iD)("li",{class:(0,r.C_)(["page-item",{active:H.currentPage===e}]),key:e.index,onClick:(0,s.iM)((t=>I.setPage(e)),["prevent"])},[(0,i._)("a",E,(0,r.zw)(e),1)],10,L)))),128)),(0,i._)("li",{class:(0,r.C_)(["page-item",{disabled:H.currentPage===H.pageArr.length}]),onClick:t[5]||(t[5]=(0,s.iM)((e=>I.setPage(H.currentPage+1)),["prevent"]))},z,2)])])])])],64)}a(6699);var V=a(2262),Y={name:"newsPageVue3",setup(){const e=(0,V.iH)();return{search:e}},data(){return{typeFilter:[],imgSrc:a(3673),currentFilter:"",countOfPage:6,currentPage:1,isActive:!0,error:!1,newsData:[],filterData:[],pageArr:[]}},methods:{filterCategory:function(e){this.setPage(1),this.currentFilter=e,"all"===e?(this.typeFilter=this.filterData,this.currentFilter=""):this.typeFilter=this.filterData.filter((t=>t.category.toLowerCase().includes(e))),this.addArrIdx()},setPage:function(e){(e>=0||e<this.totalPage)&&(this.currentPage=e)},getData(){const e="https://www.hellosolarman.com",t="https://solardata.hellosolarman.com/api/data/news";this.$http.get(t).then((t=>{this.newsData=t.data.filter((t=>(null===t.img.match("http")&&(t.img=e+t.img),this.newsData))),console.log(this.newsData)})).then((()=>this.changeCategory())).then((()=>this.addArrIdx())).then((()=>this.changeDate())).catch((e=>{console.log(e,"getError")}))},changeCategory(){for(let e=1;e<=this.totalPage;e++)this.filterData.push(e);this.newsData.forEach((e=>{"A"===e.category?this.filterData.push({...e,newsCategory:"太陽人最新消息"}):this.filterData.push({...e,newsCategory:"綠能轉型行不行"})}))},changeDate(){this.filterData.forEach((e=>{e.create_date=new Date(e.create_date).toLocaleDateString()}))},addArrIdx(){this.pageArr=[];const e=Math.ceil(this.filterProduct.length/this.countOfPage);for(let t=1;t<=e;t++)this.pageArr.push(t);console.log(this.pageArr.length)}},computed:{filterProduct(){return this.typeFilter.filter((e=>e.title.includes(this.search.toLowerCase())))},pageStart:function(){return(this.currentPage-1)*this.countOfPage},totalPage:function(){return Math.ceil(this.typeFilter.length/this.countOfPage)}},mounted(){this.typeFilter=this.filterData},created(){this.getData()},watch:{search:function(){this.currentPage=1,this.addArrIdx()},currentPage:function(){this.filterProduct.length%this.countOfPage===2&&this.currentPage===this.pageArr.length?(this.error=!0,this.isActive=!1):(this.error=!1,this.isActive=!0)}}},K=a(3744);const T=(0,K.Z)(Y,[["render",U]]);var W=T},3673:function(e,t,a){e.exports=a.p+"img/page_here_section_2.c23d20ff.jpg"}}]);
//# sourceMappingURL=947.270c76fa.js.map